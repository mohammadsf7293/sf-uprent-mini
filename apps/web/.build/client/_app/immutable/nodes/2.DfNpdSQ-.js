var vt=Object.defineProperty;var $t=(n,e,s)=>e in n?vt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[e]=s;var $e=(n,e,s)=>($t(n,typeof e!="symbol"?e+"":e,s),s);import{C as ye,S as kt,s as J,n as x,d as g,u as me,r as _,T as be,i as S,b,U as q,e as k,V as H,w as Ee,W as we,x as Ae,y as Ce,z as Ie,X as Me,Y as ne,c as w,j as L,g as y,l as M,Z as Ne,_ as wt,k as le,h as de,$ as Se,a0 as he,a1 as ae,a as se,f as R,t as z,a2 as ve,F as yt,a3 as Et,o as ht,v as mt,a4 as At}from"../chunks/scheduler.DBjExAm9.js";import{a as E,t as A,S as W,i as Y,g as Q,c as ee,d as j,m as F,e as P,b as T,f as Ve}from"../chunks/index.BsTAEUn8.js";import{w as pt}from"../chunks/index.DKMf2fyR.js";function X(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ct(n,e){A(n,1,1,()=>{e.delete(n.key)})}function It(n,e,s,t,l,o,r,f,c,a,i,u){let d=n.length,h=o.length,m=d;const v={};for(;m--;)v[n[m].key]=m;const p=[],$=new Map,C=new Map,I=[];for(m=h;m--;){const D=u(l,o,m),V=s(D);let O=r.get(V);O?I.push(()=>O.p(D,e)):(O=a(V,D),O.c()),$.set(V,p[m]=O),V in v&&C.set(V,Math.abs(m-v[V]))}const N=new Set,B=new Set;function K(D){E(D,1),D.m(f,i),r.set(D.key,D),i=D.first,h--}for(;d&&h;){const D=p[h-1],V=n[d-1],O=D.key,U=V.key;D===V?(i=D.first,d--,h--):$.has(U)?!r.has(O)||N.has(O)?K(D):B.has(U)?d--:C.get(O)>C.get(U)?(B.add(O),K(D)):(N.add(U),d--):(c(V,r),d--)}for(;d--;){const D=n[d];$.has(D.key)||c(D,r)}for(;h;)K(p[h-1]);return ye(I),p}function St(n,e){const s={},t={},l={$$scope:1};let o=n.length;for(;o--;){const r=n[o],f=e[o];if(f){for(const c in r)c in f||(t[c]=1);for(const c in f)l[c]||(s[c]=f[c],l[c]=1);n[o]=f}else for(const c in r)l[c]=1}for(const r in t)r in s||(s[r]=void 0);return s}var Dt=(n,e,s)=>{if(n.endsWith("/")||(n+="/"),e==="index"&&(e=""),!s||!Object.keys(s).length)return`${n}${e}`;let t="";for(let[l,o]of Object.entries(s))t+=`${l}=${o}&`;return`${n}${e}?${t.slice(0,-1)}`},gt=n=>n.trim().length!==0&&!Number.isNaN(Number(n)),Lt=class extends Error{constructor(n,e){super(e+""),this.status=n,this.value=e}},De=typeof FileList>"u",Oe=n=>De?n instanceof Blob:n instanceof FileList||n instanceof File,Mt=n=>{if(!n)return!1;for(let e in n)if(Oe(n[e])||Array.isArray(n[e])&&n[e].find(s=>Oe(s)))return!0;return!1},ke=n=>De?n:new Promise(e=>{let s=new FileReader;s.onload=()=>{let t=new File([s.result],n.name,{lastModified:n.lastModified,type:n.type});e(t)},s.readAsArrayBuffer(n)}),Nt=class{constructor(n){$e(this,"ws");$e(this,"url");this.ws=new WebSocket(n),this.url=n}send(n){return Array.isArray(n)?(n.forEach(e=>this.send(e)),this):(this.ws.send(typeof n=="object"?JSON.stringify(n):n.toString()),this)}on(n,e,s){return this.addEventListener(n,e,s)}off(n,e,s){return this.ws.removeEventListener(n,e,s),this}subscribe(n,e){return this.addEventListener("message",n,e)}addEventListener(n,e,s){return this.ws.addEventListener(n,t=>{if(n==="message"){let l=t.data.toString(),o=l.charCodeAt(0);if(o===47||o===123)try{l=JSON.parse(l)}catch{}else gt(l)?l=+l:l==="true"?l=!0:l==="false"&&(l=!1);e({...t,data:l})}else e(t)},s),this}removeEventListener(n,e,s){return this.off(n,e,s),this}close(){return this.ws.close(),this}},_t=(n,e="",s)=>new Proxy(()=>{},{get(t,l,o){return _t(n,`${e}/${l.toString()}`,s)},apply(t,l,[o,r={}]=[{},{}]){let f=o!==void 0&&(typeof o!="object"||Array.isArray(o))?o:void 0,{$query:c,$fetch:a,$headers:i,$transform:u,getRaw:d,...h}=o??{};f??(f=h);let m=e.lastIndexOf("/"),v=e.slice(m+1).toUpperCase(),p=Dt(n,m===-1?"/":e.slice(0,m),Object.assign(r.query??{},c)),$=s.fetcher??fetch,C=s.transform?Array.isArray(s.transform)?s.transform:[s.transform]:void 0,I=u?Array.isArray(u)?u:[u]:void 0;return I&&(C?C=I.concat(C):C=I),v==="SUBSCRIBE"?new Nt(p.replace(/^([^]+):\/\//,p.startsWith("https://")?"wss://":"ws://")):(async N=>{var ie,pe;let B,K={...(ie=s.$fetch)==null?void 0:ie.headers,...a==null?void 0:a.headers,...r.headers,...i};if(v!=="GET"&&v!=="HEAD"){B=Object.keys(f).length||Array.isArray(f)?f:void 0;let Z=B&&(typeof B=="object"||Array.isArray(f));if(Z&&Mt(B)){let G=new FormData;for(let[ce,te]of Object.entries(B))if(De)G.append(ce,te);else if(te instanceof File)G.append(ce,await ke(te));else if(te instanceof FileList)for(let oe=0;oe<te.length;oe++)G.append(ce,await ke(te[oe]));else if(Array.isArray(te))for(let oe=0;oe<te.length;oe++){let fe=te[oe];G.append(ce,fe instanceof File?await ke(fe):fe)}else G.append(ce,te);B=G}else B!=null&&(K["content-type"]=Z?"application/json":"text/plain",B=Z?JSON.stringify(B):f)}let D=await $(p,{method:v,body:B,...s.$fetch,...r.fetch,...a,headers:K}),V;if(N.getRaw)return D;switch((pe=D.headers.get("Content-Type"))==null?void 0:pe.split(";")[0]){case"application/json":V=await D.json();break;default:V=await D.text().then(Z=>gt(Z)?+Z:Z==="true"?!0:Z==="false"?!1:Z)}let O=D.status>=300||D.status<200?new Lt(D.status,V):null,U={data:V,error:O,response:D,status:D.status,headers:D.headers};if(C)for(let Z of C){let G=Z(U);G instanceof Promise&&(G=await G),G!=null&&(U=G)}return U})({getRaw:d})}}),Vt=(n,e={fetcher:fetch})=>new Proxy({},{get(s,t){return _t(n,t,e)}});const Ot=Vt("http://localhost:5002",{$fetch:{credentials:"include"}}),jt=()=>{const n=pt({isLoading:!0,page:0,properties:[],hasMore:!0}),{subscribe:e,update:s}=n,t=async()=>{const{page:l,hasMore:o}=kt(n);if(!o)return;const{data:r,error:f}=await Ot.feed.properties.post({page:l});!r||f||r.status==="error"||s(c=>{const{hasMore:a,properties:i}=r.payload;return c.properties=[...c.properties,...i],c.hasMore=a,c.page=l+1,c})};return{subscribe:e,reload:async()=>{s(l=>({...l,isLoading:!0})),await t(),s(l=>({...l,isLoading:!1}))},loadMore:t}},ge=jt();function Ft(n){let e,s,t,l;return{c(){e=H("svg"),s=H("circle"),t=H("circle"),this.h()},l(o){e=q(o,"svg",{class:!0,viewBox:!0,fill:!0,stroke:!0,height:!0,width:!0});var r=k(e);s=q(r,"circle",{cx:!0,cy:!0,r:!0,"stroke-opacity":!0,"stroke-width":!0,class:!0}),k(s).forEach(g),t=q(r,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,class:!0}),k(t).forEach(g),r.forEach(g),this.h()},h(){_(s,"cx","14"),_(s,"cy","14"),_(s,"r","11.5"),_(s,"stroke-opacity","0.3"),_(s,"stroke-width","5"),_(s,"class","svelte-uetbol"),_(t,"cx","14"),_(t,"cy","14"),_(t,"r","11.5"),_(t,"stroke-width","5"),_(t,"class","svelte-uetbol"),me(t,"stroke-dashoffset",n[1]),me(t,"stroke-dasharray",n[2]),_(e,"class",l="spinner "+n[0]+" svelte-uetbol"),_(e,"viewBox","0 0 28 28"),_(e,"fill","none"),_(e,"stroke","currentColor"),_(e,"height","1.1em"),_(e,"width","1.1em"),be(e,"spin",n[3])},m(o,r){S(o,e,r),b(e,s),b(e,t)},p(o,[r]){r&2&&me(t,"stroke-dashoffset",o[1]),r&4&&me(t,"stroke-dasharray",o[2]),r&1&&l!==(l="spinner "+o[0]+" svelte-uetbol")&&_(e,"class",l),r&9&&be(e,"spin",o[3])},i:x,o:x,d(o){o&&g(e)}}}function Pt(n,e,s){let{class:t=void 0,strokeDashoffset:l=void 0,strokeDasharray:o=void 0,spin:r=!0}=e;return n.$$set=f=>{"class"in f&&s(0,t=f.class),"strokeDashoffset"in f&&s(1,l=f.strokeDashoffset),"strokeDasharray"in f&&s(2,o=f.strokeDasharray),"spin"in f&&s(3,r=f.spin)},[t,l,o,r]}class Le extends W{constructor(e){super(),Y(this,e,Pt,Ft,J,{class:0,strokeDashoffset:1,strokeDasharray:2,spin:3})}}function Tt(n){let e,s,t,l,o,r,f,c;return{c(){e=H("svg"),s=H("path"),t=H("path"),l=H("path"),o=H("path"),r=H("path"),f=H("path"),c=H("path"),this.h()},l(a){e=q(a,"svg",{viewBox:!0,width:!0,height:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0});var i=k(e);s=q(i,"path",{d:!0}),k(s).forEach(g),t=q(i,"path",{d:!0}),k(t).forEach(g),l=q(i,"path",{d:!0}),k(l).forEach(g),o=q(i,"path",{d:!0}),k(o).forEach(g),r=q(i,"path",{d:!0}),k(r).forEach(g),f=q(i,"path",{d:!0}),k(f).forEach(g),c=q(i,"path",{d:!0}),k(c).forEach(g),i.forEach(g),this.h()},h(){_(s,"d","M3 5h11"),_(t,"d","M12 7l2 -2l-2 -2"),_(l,"d","M5 3l-2 2l2 2"),_(o,"d","M19 10v11"),_(r,"d","M17 19l2 2l2 -2"),_(f,"d","M21 12l-2 -2l-2 2"),_(c,"d","M3 10m0 2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v7a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2z"),_(e,"viewBox","0 0 24 24"),_(e,"width","1.35em"),_(e,"height","1.35em"),_(e,"stroke-width","1.5"),_(e,"stroke","currentColor"),_(e,"fill","none"),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round")},m(a,i){S(a,e,i),b(e,s),b(e,t),b(e,l),b(e,o),b(e,r),b(e,f),b(e,c)},p:x,i:x,o:x,d(a){a&&g(e)}}}class Bt extends W{constructor(e){super(),Y(this,e,null,Tt,J,{})}}function Ut(n){let e,s,t,l;return{c(){e=H("svg"),s=H("path"),t=H("path"),l=H("path"),this.h()},l(o){e=q(o,"svg",{height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,fill:!0});var r=k(e);s=q(r,"path",{d:!0}),k(s).forEach(g),t=q(r,"path",{d:!0}),k(t).forEach(g),l=q(r,"path",{d:!0}),k(l).forEach(g),r.forEach(g),this.h()},h(){_(s,"d","M3 19a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"),_(t,"d","M19 7a2 2 0 1 0 0 -4a2 2 0 0 0 0 4z"),_(l,"d","M11 19h5.5a3.5 3.5 0 0 0 0 -7h-8a3.5 3.5 0 0 1 0 -7h4.5"),_(e,"height","1.35em"),_(e,"viewBox","0 0 24 24"),_(e,"stroke-width","1.5"),_(e,"stroke","currentColor"),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round"),_(e,"fill","none")},m(o,r){S(o,e,r),b(e,s),b(e,t),b(e,l)},p:x,i:x,o:x,d(o){o&&g(e)}}}class _e extends W{constructor(e){super(),Y(this,e,null,Ut,J,{})}}function Rt(n){let e,s,t,l;return{c(){e=H("svg"),s=H("path"),t=H("path"),l=H("path"),this.h()},l(o){e=q(o,"svg",{width:!0,height:!0,viewBox:!0,"stroke-width":!0,stroke:!0,fill:!0,"stroke-linecap":!0,"stroke-linejoin":!0});var r=k(e);s=q(r,"path",{d:!0}),k(s).forEach(g),t=q(r,"path",{d:!0}),k(t).forEach(g),l=q(r,"path",{d:!0}),k(l).forEach(g),r.forEach(g),this.h()},h(){_(s,"d","M7 9m0 2a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2z"),_(t,"d","M14 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"),_(l,"d","M17 9v-2a2 2 0 0 0 -2 -2h-10a2 2 0 0 0 -2 2v6a2 2 0 0 0 2 2h2"),_(e,"width","1.35em"),_(e,"height","1.35em"),_(e,"viewBox","0 0 24 24"),_(e,"stroke-width","1.5"),_(e,"stroke","currentColor"),_(e,"fill","none"),_(e,"stroke-linecap","round"),_(e,"stroke-linejoin","round")},m(o,r){S(o,e,r),b(e,s),b(e,t),b(e,l)},p:x,i:x,o:x,d(o){o&&g(e)}}}class zt extends W{constructor(e){super(),Y(this,e,null,Rt,J,{})}}function xt(n){const e=n-1;return e*e*e+1}function je(n,{delay:e=0,duration:s=400,easing:t=xt,axis:l="y"}={}){const o=getComputedStyle(n),r=+o.opacity,f=l==="y"?"height":"width",c=parseFloat(o[f]),a=l==="y"?["top","bottom"]:["left","right"],i=a.map($=>`${$[0].toUpperCase()}${$.slice(1)}`),u=parseFloat(o[`padding${i[0]}`]),d=parseFloat(o[`padding${i[1]}`]),h=parseFloat(o[`margin${i[0]}`]),m=parseFloat(o[`margin${i[1]}`]),v=parseFloat(o[`border${i[0]}Width`]),p=parseFloat(o[`border${i[1]}Width`]);return{delay:e,duration:s,easing:t,css:$=>`overflow: hidden;opacity: ${Math.min($*20,1)*r};${f}: ${$*c}px;padding-${a[0]}: ${$*u}px;padding-${a[1]}: ${$*d}px;margin-${a[0]}: ${$*h}px;margin-${a[1]}: ${$*m}px;border-${a[0]}-width: ${$*v}px;border-${a[1]}-width: ${$*p}px;`}}const qt=n=>({}),Fe=n=>({});function Ht(n){let e;const s=n[14].icon,t=Ee(s,n,n[13],Fe);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,o){t&&t.m(l,o),e=!0},p(l,o){t&&t.p&&(!e||o&8192)&&Ae(t,s,l,l[13],e?Ie(s,l[13],o,qt):Ce(l[13]),Fe)},i(l){e||(E(t,l),e=!0)},o(l){A(t,l),e=!1},d(l){t&&t.d(l)}}}function Jt(n){let e,s;return e=new Le({}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},p:x,i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function Wt(n){let e,s,t,l,o,r,f,c;const a=[Jt,Ht],i=[];function u(p,$){return p[1]?0:1}s=u(n),t=i[s]=a[s](n);const d=n[14].default,h=Ee(d,n,n[13],null);let m=[{class:o=n[0]+" "+(n[1]&&(n[2]?n[9]:n[10]))+" "+(n[3]&&(n[2]?n[7]:n[8]))+" "+(n[2]?n[5]:n[6])+" uprent .flex .h-9 .items-center .justify-center .gap-1.5 .whitespace-nowrap .rounded-md .border-0 .px-4 .text-sm .font-medium .tracking-wide"},{disabled:n[3]},n[11]],v={};for(let p=0;p<m.length;p+=1)v=we(v,m[p]);return{c(){e=y("button"),t.c(),l=M(),h&&h.c(),this.h()},l(p){e=w(p,"BUTTON",{class:!0});var $=k(e);t.l($),l=L($),h&&h.l($),$.forEach(g),this.h()},h(){Me(e,v),be(e,"svelte-1uanidq",!0)},m(p,$){S(p,e,$),i[s].m(e,null),b(e,l),h&&h.m(e,null),e.autofocus&&e.focus(),r=!0,f||(c=ne(e,"click",n[15]),f=!0)},p(p,[$]){let C=s;s=u(p),s===C?i[s].p(p,$):(Q(),A(i[C],1,1,()=>{i[C]=null}),ee(),t=i[s],t?t.p(p,$):(t=i[s]=a[s](p),t.c()),E(t,1),t.m(e,l)),h&&h.p&&(!r||$&8192)&&Ae(h,d,p,p[13],r?Ie(d,p[13],$,null):Ce(p[13]),null),Me(e,v=St(m,[(!r||$&2031&&o!==(o=p[0]+" "+(p[1]&&(p[2]?p[9]:p[10]))+" "+(p[3]&&(p[2]?p[7]:p[8]))+" "+(p[2]?p[5]:p[6])+" uprent .flex .h-9 .items-center .justify-center .gap-1.5 .whitespace-nowrap .rounded-md .border-0 .px-4 .text-sm .font-medium .tracking-wide"))&&{class:o},(!r||$&8)&&{disabled:p[3]},$&2048&&p[11]])),be(e,"svelte-1uanidq",!0)},i(p){r||(E(t),E(h,p),r=!0)},o(p){A(t),A(h,p),r=!1},d(p){p&&g(e),i[s].d(),h&&h.d(p),f=!1,c()}}}function Yt(n,e,s){let t,l,o,r,f,c;const a=["class","loading","primary","subtle","disabled","onClick"];let i=Ne(e,a),{$$slots:u={},$$scope:d}=e,{class:h="",loading:m=!1,primary:v=!1,subtle:p=!1,disabled:$=!1,onClick:C=void 0}=e;const I=N=>!$&&!m&&(C==null?void 0:C(N));return n.$$set=N=>{e=we(we({},e),wt(N)),s(11,i=Ne(e,a)),"class"in N&&s(0,h=N.class),"loading"in N&&s(1,m=N.loading),"primary"in N&&s(12,v=N.primary),"subtle"in N&&s(2,p=N.subtle),"disabled"in N&&s(3,$=N.disabled),"onClick"in N&&s(4,C=N.onClick),"$$scope"in N&&s(13,d=N.$$scope)},n.$$.update=()=>{n.$$.dirty&4096&&s(10,t=`${v?"!.bg-primary-300":"!.bg-black-300"} !.cursor-wait`),n.$$.dirty&4096&&s(9,l=`${v?"!.bg-primary-100":"!.bg-black-100"} !.cursor-wait`),n.$$.dirty&4096&&s(8,o=`${v?"!.bg-primary-300":"!.bg-black-300"} !.cursor-not-allowed`),n.$$.dirty&4096&&s(7,r=`${v?"!.bg-primary-100":"!.bg-black-100"} !.cursor-not-allowed`),n.$$.dirty&4096&&s(6,f=`${v?".bg-primary-950 hover:.bg-primary focus:.bg-primary active:.bg-primary":".bg-black-950 hover:.bg-black focus:.bg-black active:.bg-black"} .text-white`),n.$$.dirty&4096&&s(5,c=`${v?".bg-primary-100 hover:.bg-primary-200 focus:.bg-primary-200 active:.bg-primary-200":".bg-black-100 hover:.bg-black-200 focus:.bg-black-200 active:.bg-black-200"}
    ${v?".text-primary":".text-black"}`)},[h,m,p,$,C,c,f,r,o,l,t,i,v,d,u,I]}class ue extends W{constructor(e){super(),Y(this,e,Yt,Wt,J,{class:0,loading:1,primary:12,subtle:2,disabled:3,onClick:4})}}const re=pt([]);function Gt(){var t;const n=typeof chrome<"u"&&chrome.runtime,s=n&&chrome.runtime.id==="YOUR_EXTENSION_ID";return console.log("Environment check:"),console.log("- Is Chrome:",n),console.log("- Extension installed:",s),console.log("- Extension ID:",(t=chrome.runtime)==null?void 0:t.id),{isChrome:n,isExtensionInstalled:s}}typeof window<"u"&&Gt();if(typeof window<"u"){const n=localStorage.getItem("addresses");if(n)try{const e=JSON.parse(n);re.set(e)}catch(e){console.error("Failed to parse stored addresses:",e)}}re.subscribe(n=>{typeof window<"u"&&localStorage.setItem("addresses",JSON.stringify(n))});function Pe(n,e,s){const t=n.slice();return t[7]=e[s],t}function Te(n){let e,s,t,l="Select Address",o,r,f,c,a,i,u=X(n[2]),d=[];for(let h=0;h<u.length;h+=1)d[h]=Be(Pe(n,u,h));return a=new ue({props:{onClick:n[5],$$slots:{default:[Zt]},$$scope:{ctx:n}}}),{c(){e=y("div"),s=y("div"),t=y("h3"),t.textContent=l,o=M(),r=y("div");for(let h=0;h<d.length;h+=1)d[h].c();f=M(),c=y("div"),T(a.$$.fragment),this.h()},l(h){e=w(h,"DIV",{class:!0});var m=k(e);s=w(m,"DIV",{class:!0});var v=k(s);t=w(v,"H3",{class:!0,"data-svelte-h":!0}),ae(t)!=="svelte-5dx54f"&&(t.textContent=l),o=L(v),r=w(v,"DIV",{class:!0});var p=k(r);for(let C=0;C<d.length;C+=1)d[C].l(p);p.forEach(g),f=L(v),c=w(v,"DIV",{class:!0});var $=k(c);P(a.$$.fragment,$),$.forEach(g),v.forEach(g),m.forEach(g),this.h()},h(){_(t,"class",".text-lg .font-semibold .mb-4"),_(r,"class",".space-y-2"),_(c,"class",".flex .justify-end .mt-4"),_(s,"class",".bg-white .rounded-lg .p-4 .w-[400px] .max-w-[90vw]"),_(e,"class",".fixed .inset-0 .bg-black/50 .flex .items-center .justify-center .z-50")},m(h,m){S(h,e,m),b(e,s),b(s,t),b(s,o),b(s,r);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(r,null);b(s,f),b(s,c),F(a,c,null),i=!0},p(h,m){if(m&14){u=X(h[2]);let p;for(p=0;p<u.length;p+=1){const $=Pe(h,u,p);d[p]?d[p].p($,m):(d[p]=Be($),d[p].c(),d[p].m(r,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=u.length}const v={};m&1024&&(v.$$scope={dirty:m,ctx:h}),a.$set(v)},i(h){i||(E(a.$$.fragment,h),i=!0)},o(h){A(a.$$.fragment,h),i=!1},d(h){h&&g(e),he(d,h),j(a)}}}function Be(n){let e,s=n[7]+"",t,l,o,r;function f(){return n[4](n[7])}return{c(){e=y("button"),t=z(s),l=M(),this.h()},l(c){e=w(c,"BUTTON",{class:!0});var a=k(e);t=R(a,s),l=L(a),a.forEach(g),this.h()},h(){_(e,"class",".w-full .text-left .p-2 .bg-gray-50 .rounded .hover:bg-gray-100 .cursor-pointer")},m(c,a){S(c,e,a),b(e,t),b(e,l),o||(r=ne(e,"click",f),o=!0)},p(c,a){n=c,a&4&&s!==(s=n[7]+"")&&se(t,s)},d(c){c&&g(e),o=!1,r()}}}function Zt(n){let e;return{c(){e=z("Cancel")},l(s){e=R(s,"Cancel")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function Xt(n){let e,s,t=n[0]&&Te(n);return{c(){t&&t.c(),e=le()},l(l){t&&t.l(l),e=le()},m(l,o){t&&t.m(l,o),S(l,e,o),s=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&E(t,1)):(t=Te(l),t.c(),E(t,1),t.m(e.parentNode,e)):t&&(Q(),A(t,1,1,()=>{t=null}),ee())},i(l){s||(E(t),s=!0)},o(l){A(t),s=!1},d(l){l&&g(e),t&&t.d(l)}}}function Kt(n,e,s){let t;de(n,re,a=>s(2,t=a));let{isOpen:l=!1}=e,{onSelect:o}=e;const r=Se(),f=a=>{o(a),r("close")},c=()=>r("close");return n.$$set=a=>{"isOpen"in a&&s(0,l=a.isOpen),"onSelect"in a&&s(1,o=a.onSelect)},[l,o,t,r,f,c]}class bt extends W{constructor(e){super(),Y(this,e,Kt,Xt,J,{isOpen:0,onSelect:1})}}function Ue(n,e,s){const t=n.slice();return t[8]=e[s][0],t[9]=e[s][1],t}function Qt(n){let e,s,t,l,o,r=X(Object.entries(n[1])),f=[];for(let c=0;c<r.length;c+=1)f[c]=Re(Ue(n,r,c));return{c(){e=y("div"),s=y("div"),t=y("div");for(let c=0;c<f.length;c+=1)f[c].c();l=M(),o=y("div"),this.h()},l(c){e=w(c,"DIV",{class:!0});var a=k(e);s=w(a,"DIV",{class:!0});var i=k(s);t=w(i,"DIV",{class:!0});var u=k(t);for(let d=0;d<f.length;d+=1)f[d].l(u);u.forEach(g),i.forEach(g),l=L(a),o=w(a,"DIV",{class:!0}),k(o).forEach(g),a.forEach(g),this.h()},h(){_(t,"class",".grid .grid-cols-1 .sm:grid-cols-2 .gap-2"),_(s,"class",".absolute .inset-0 .overflow-y-auto"),_(o,"class",".absolute .bottom-0 .left-0 .right-0 .h-8 .bg-gradient-to-t .from-white .via-white/95 .to-transparent .pointer-events-none"),_(e,"class",".relative .flex-1 .min-h-0")},m(c,a){S(c,e,a),b(e,s),b(s,t);for(let i=0;i<f.length;i+=1)f[i]&&f[i].m(t,null);b(e,l),b(e,o)},p(c,a){if(a&2){r=X(Object.entries(c[1]));let i;for(i=0;i<r.length;i+=1){const u=Ue(c,r,i);f[i]?f[i].p(u,a):(f[i]=Re(u),f[i].c(),f[i].m(t,null))}for(;i<f.length;i+=1)f[i].d(1);f.length=r.length}},i:x,o:x,d(c){c&&g(e),he(f,c)}}}function es(n){let e,s;return e=new ue({props:{primary:!0,loading:n[0],onClick:n[4],disabled:n[3].length===0,$$slots:{icon:[ss],default:[ts]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},p(t,l){const o={};l&1&&(o.loading=t[0]),l&8&&(o.disabled=t[3].length===0),l&4096&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function Re(n){let e,s,t=n[8]+"",l,o,r,f=n[9]+"",c,a;return{c(){e=y("div"),s=y("span"),l=z(t),o=M(),r=y("span"),c=z(f),a=M(),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=k(e);s=w(u,"SPAN",{class:!0});var d=k(s);l=R(d,t),d.forEach(g),o=L(u),r=w(u,"SPAN",{class:!0});var h=k(r);c=R(h,f),h.forEach(g),a=L(u),u.forEach(g),this.h()},h(){_(s,"class",".text-sm .font-medium .text-gray-700"),_(r,"class",".text-sm .font-semibold .text-primary-600"),_(e,"class",".flex .items-center .justify-between .p-2 .bg-gray-50 .rounded-md")},m(i,u){S(i,e,u),b(e,s),b(s,l),b(e,o),b(e,r),b(r,c),b(e,a)},p(i,u){u&2&&t!==(t=i[8]+"")&&se(l,t),u&2&&f!==(f=i[9]+"")&&se(c,f)},d(i){i&&g(e)}}}function ts(n){let e;return{c(){e=z("Load commutes")},l(s){e=R(s,"Load commutes")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function ss(n){let e,s;return e=new _e({props:{slot:"icon"}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},p:x,i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function ls(n){let e,s,t,l,o,r="Commute Times",f,c,a,i,u,d;t=new _e({});const h=[es,Qt],m=[];function v(p,$){return p[1]?1:0}return c=v(n),a=m[c]=h[c](n),u=new bt({props:{isOpen:n[2],onSelect:n[5]}}),u.$on("close",n[7]),{c(){e=y("div"),s=y("div"),T(t.$$.fragment),l=M(),o=y("h3"),o.textContent=r,f=M(),a.c(),i=M(),T(u.$$.fragment),this.h()},l(p){e=w(p,"DIV",{class:!0});var $=k(e);s=w($,"DIV",{class:!0});var C=k(s);P(t.$$.fragment,C),l=L(C),o=w(C,"H3",{class:!0,"data-svelte-h":!0}),ae(o)!=="svelte-13zr7gu"&&(o.textContent=r),C.forEach(g),f=L($),a.l($),i=L($),P(u.$$.fragment,$),$.forEach(g),this.h()},h(){_(o,"class",".text-lg .font-semibold .text-gray-900"),_(s,"class",".flex .items-center .gap-2"),_(e,"class",".flex .flex-col .gap-4 .p-4 .bg-white .rounded-lg .shadow-sm .border .border-gray-200 .h-[90%]")},m(p,$){S(p,e,$),b(e,s),F(t,s,null),b(s,l),b(s,o),b(e,f),m[c].m(e,null),b(e,i),F(u,e,null),d=!0},p(p,[$]){let C=c;c=v(p),c===C?m[c].p(p,$):(Q(),A(m[C],1,1,()=>{m[C]=null}),ee(),a=m[c],a?a.p(p,$):(a=m[c]=h[c](p),a.c()),E(a,1),a.m(e,i));const I={};$&4&&(I.isOpen=p[2]),u.$set(I)},i(p){d||(E(t.$$.fragment,p),E(a),E(u.$$.fragment,p),d=!0)},o(p){A(t.$$.fragment,p),A(a),A(u.$$.fragment,p),d=!1},d(p){p&&g(e),j(t),m[c].d(),j(u)}}}function rs(n,e,s){let t;de(n,re,u=>s(3,t=u));let{loading:l=!1}=e,{durations:o=null}=e,{onLoad:r}=e,f=!1;async function c(){t.length!==0&&(t.length===1?await r(t[0]):s(2,f=!0))}async function a(u){await r(u)}const i=()=>s(2,f=!1);return n.$$set=u=>{"loading"in u&&s(0,l=u.loading),"durations"in u&&s(1,o=u.durations),"onLoad"in u&&s(6,r=u.onLoad)},[l,o,f,t,c,a,r,i]}class ns extends W{constructor(e){super(),Y(this,e,rs,ls,J,{loading:0,durations:1,onLoad:6})}}function ze(n,e,s){const t=n.slice();return t[16]=e[s],t}function xe(n,e,s){const t=n.slice();return t[19]=e[s],t}function qe(n){let e,s,t,l="Manage Addresses",o,r,f,c,a,i,u,d=n[4].length>0&&He(n),h=n[4].length<2&&We(n);return i=new ue({props:{onClick:n[9],$$slots:{default:[as]},$$scope:{ctx:n}}}),{c(){e=y("div"),s=y("div"),t=y("h3"),t.textContent=l,o=M(),r=y("div"),d&&d.c(),f=M(),h&&h.c(),c=M(),a=y("div"),T(i.$$.fragment),this.h()},l(m){e=w(m,"DIV",{class:!0});var v=k(e);s=w(v,"DIV",{class:!0});var p=k(s);t=w(p,"H3",{class:!0,"data-svelte-h":!0}),ae(t)!=="svelte-1yq45eg"&&(t.textContent=l),o=L(p),r=w(p,"DIV",{class:!0});var $=k(r);d&&d.l($),f=L($),h&&h.l($),c=L($),a=w($,"DIV",{class:!0});var C=k(a);P(i.$$.fragment,C),C.forEach(g),$.forEach(g),p.forEach(g),v.forEach(g),this.h()},h(){_(t,"class",".text-lg .font-semibold .mb-4"),_(a,"class",".flex .justify-end .gap-2 .mt-4"),_(r,"class",".space-y-4"),_(s,"class",".bg-white .rounded-lg .p-4 .w-[400px] .max-w-[90vw]"),_(e,"class",".fixed .inset-0 .bg-black/50 .flex .items-center .justify-center .z-50")},m(m,v){S(m,e,v),b(e,s),b(s,t),b(s,o),b(s,r),d&&d.m(r,null),b(r,f),h&&h.m(r,null),b(r,c),b(r,a),F(i,a,null),u=!0},p(m,v){m[4].length>0?d?d.p(m,v):(d=He(m),d.c(),d.m(r,f)):d&&(d.d(1),d=null),m[4].length<2?h?(h.p(m,v),v&16&&E(h,1)):(h=We(m),h.c(),E(h,1),h.m(r,c)):h&&(Q(),A(h,1,1,()=>{h=null}),ee());const p={};v&4194304&&(p.$$scope={dirty:v,ctx:m}),i.$set(p)},i(m){u||(E(h),E(i.$$.fragment,m),u=!0)},o(m){A(h),A(i.$$.fragment,m),u=!1},d(m){m&&g(e),d&&d.d(),h&&h.d(),j(i)}}}function He(n){let e,s=X(n[4]),t=[];for(let l=0;l<s.length;l+=1)t[l]=Je(xe(n,s,l));return{c(){e=y("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(g),this.h()},h(){_(e,"class",".space-y-2")},m(l,o){S(l,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(l,o){if(o&272){s=X(l[4]);let r;for(r=0;r<s.length;r+=1){const f=xe(l,s,r);t[r]?t[r].p(f,o):(t[r]=Je(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(l){l&&g(e),he(t,l)}}}function Je(n){let e,s,t=n[19]+"",l,o,r,f="×",c,a,i;function u(){return n[10](n[19])}return{c(){e=y("div"),s=y("span"),l=z(t),o=M(),r=y("button"),r.textContent=f,c=M(),this.h()},l(d){e=w(d,"DIV",{class:!0});var h=k(e);s=w(h,"SPAN",{class:!0});var m=k(s);l=R(m,t),m.forEach(g),o=L(h),r=w(h,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-1jausmz"&&(r.textContent=f),c=L(h),h.forEach(g),this.h()},h(){_(s,"class",".text-sm"),_(r,"class",".text-red-500 .hover:text-red-700"),_(e,"class",".flex .items-center .justify-between .p-2 .bg-gray-50 .rounded")},m(d,h){S(d,e,h),b(e,s),b(s,l),b(e,o),b(e,r),b(e,c),a||(i=ne(r,"click",u),a=!0)},p(d,h){n=d,h&16&&t!==(t=n[19]+"")&&se(l,t)},d(d){d&&g(e),a=!1,i()}}}function We(n){let e,s,t,l,o,r,f,c,a=n[3]&&n[2].length>0&&Ye(n);return o=new ue({props:{primary:!0,onClick:n[7],disabled:!n[1]||n[4].length>=2,class:".mt-2",$$slots:{default:[os]},$$scope:{ctx:n}}}),{c(){e=y("div"),s=y("input"),t=M(),a&&a.c(),l=M(),T(o.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=k(e);s=w(u,"INPUT",{type:!0,placeholder:!0,class:!0}),t=L(u),a&&a.l(u),l=L(u),P(o.$$.fragment,u),u.forEach(g),this.h()},h(){_(s,"type","text"),_(s,"placeholder","Enter an address"),_(s,"class",".w-full .p-2 .border .rounded .text-sm"),_(e,"class",".relative")},m(i,u){S(i,e,u),b(e,s),ve(s,n[1]),b(e,t),a&&a.m(e,null),b(e,l),F(o,e,null),r=!0,f||(c=[ne(s,"input",n[11]),ne(s,"input",n[5])],f=!0)},p(i,u){u&2&&s.value!==i[1]&&ve(s,i[1]),i[3]&&i[2].length>0?a?a.p(i,u):(a=Ye(i),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const d={};u&18&&(d.disabled=!i[1]||i[4].length>=2),u&4194304&&(d.$$scope={dirty:u,ctx:i}),o.$set(d)},i(i){r||(E(o.$$.fragment,i),r=!0)},o(i){A(o.$$.fragment,i),r=!1},d(i){i&&g(e),a&&a.d(),j(o),f=!1,ye(c)}}}function Ye(n){let e,s=X(n[2]),t=[];for(let l=0;l<s.length;l+=1)t[l]=Ge(ze(n,s,l));return{c(){e=y("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(g),this.h()},h(){_(e,"class",".absolute .left-0 .right-0 .mt-1 .bg-white .border .rounded .shadow-lg .z-10")},m(l,o){S(l,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(l,o){if(o&68){s=X(l[2]);let r;for(r=0;r<s.length;r+=1){const f=ze(l,s,r);t[r]?t[r].p(f,o):(t[r]=Ge(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(l){l&&g(e),he(t,l)}}}function Ge(n){let e,s=n[16]+"",t,l,o,r;function f(){return n[12](n[16])}return{c(){e=y("button"),t=z(s),l=M(),this.h()},l(c){e=w(c,"BUTTON",{class:!0});var a=k(e);t=R(a,s),l=L(a),a.forEach(g),this.h()},h(){_(e,"class",".w-full .text-left .p-2 .text-sm .hover:bg-gray-50")},m(c,a){S(c,e,a),b(e,t),b(e,l),o||(r=ne(e,"click",f),o=!0)},p(c,a){n=c,a&4&&s!==(s=n[16]+"")&&se(t,s)},d(c){c&&g(e),o=!1,r()}}}function os(n){let e;return{c(){e=z("Add Address")},l(s){e=R(s,"Add Address")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function as(n){let e;return{c(){e=z("Close")},l(s){e=R(s,"Close")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function is(n){let e,s,t=n[0]&&qe(n);return{c(){t&&t.c(),e=le()},l(l){t&&t.l(l),e=le()},m(l,o){t&&t.m(l,o),S(l,e,o),s=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&E(t,1)):(t=qe(l),t.c(),E(t,1),t.m(e.parentNode,e)):t&&(Q(),A(t,1,1,()=>{t=null}),ee())},i(l){s||(E(t),s=!0)},o(l){A(t),s=!1},d(l){l&&g(e),t&&t.d(l)}}}function cs(n,e,s){let t;de(n,re,I=>s(4,t=I));let{isOpen:l=!1}=e;const o=Se();let r="";const f=["Amsterdam Centraal","Amsterdam Zuid","Amsterdam Science Park","Amsterdam Bijlmer ArenA","Amsterdam RAI","Amsterdam Lelylaan","Amsterdam Muiderpoort","Amsterdam Sloterdijk"];let c=[],a=!1;function i(I){if(!I){s(2,c=[]);return}const N=I.toLowerCase();s(2,c=f.filter(B=>B.toLowerCase().includes(N)).slice(0,5))}function u(I){const N=I.target.value;s(1,r=N),i(N),s(3,a=!0)}function d(I){s(1,r=I),s(3,a=!1)}function h(){r&&t.length<2&&(re.update(I=>[...I,r]),s(1,r=""),s(3,a=!1))}function m(I){re.update(N=>N.filter(B=>B!==I))}function v(){o("close"),s(1,r=""),s(3,a=!1)}const p=I=>m(I);function $(){r=this.value,s(1,r)}const C=I=>d(I);return n.$$set=I=>{"isOpen"in I&&s(0,l=I.isOpen)},[l,r,c,a,t,u,d,h,m,v,p,$,C]}let fs=class extends W{constructor(e){super(),Y(this,e,cs,is,J,{isOpen:0})}};function Ze(n,e,s){const t=n.slice();return t[11]=e[s][0],t[12]=e[s][1],t}function us(n){let e,s,t,l,o,r,f="Commute Times",c,a,i,u,d,h;return l=new _e({}),i=new ue({props:{primary:!0,loading:n[1],onClick:n[5],disabled:n[4].length===0,class:".w-fit",$$slots:{icon:[ms],default:[hs]},$$scope:{ctx:n}}}),d=new ue({props:{onClick:n[8],class:".w-fit",$$slots:{default:[ps]},$$scope:{ctx:n}}}),{c(){e=y("div"),s=y("div"),t=y("div"),T(l.$$.fragment),o=M(),r=y("h3"),r.textContent=f,c=M(),a=y("div"),T(i.$$.fragment),u=M(),T(d.$$.fragment),this.h()},l(m){e=w(m,"DIV",{class:!0});var v=k(e);s=w(v,"DIV",{class:!0});var p=k(s);t=w(p,"DIV",{class:!0});var $=k(t);P(l.$$.fragment,$),$.forEach(g),o=L(p),r=w(p,"H3",{class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-e4m775"&&(r.textContent=f),p.forEach(g),c=L(v),a=w(v,"DIV",{class:!0});var C=k(a);P(i.$$.fragment,C),u=L(C),P(d.$$.fragment,C),C.forEach(g),v.forEach(g),this.h()},h(){_(t,"class",".w-4 .h-4 .text-primary-600"),_(r,"class",".text-sm .font-semibold .text-gray-900"),_(s,"class",".flex .items-center .gap-2"),_(a,"class",".flex .gap-2"),_(e,"class",".flex .flex-col .gap-2 .p-2 .bg-white .rounded-lg .shadow-sm .border .border-gray-200")},m(m,v){S(m,e,v),b(e,s),b(s,t),F(l,t,null),b(s,o),b(s,r),b(e,c),b(e,a),F(i,a,null),b(a,u),F(d,a,null),h=!0},p(m,v){const p={};v&2&&(p.loading=m[1]),v&16&&(p.disabled=m[4].length===0),v&32768&&(p.$$scope={dirty:v,ctx:m}),i.$set(p);const $={};v&4&&($.onClick=m[8]),v&32768&&($.$$scope={dirty:v,ctx:m}),d.$set($)},i(m){h||(E(l.$$.fragment,m),E(i.$$.fragment,m),E(d.$$.fragment,m),h=!0)},o(m){A(l.$$.fragment,m),A(i.$$.fragment,m),A(d.$$.fragment,m),h=!1},d(m){m&&g(e),j(l),j(i),j(d)}}}function ds(n){let e,s,t,l,o,r,f="Commute Times",c,a,i,u;l=new _e({});let d=X(Object.entries(n[0])),h=[];for(let m=0;m<d.length;m+=1)h[m]=Xe(Ze(n,d,m));return{c(){e=y("div"),s=y("div"),t=y("div"),T(l.$$.fragment),o=M(),r=y("h3"),r.textContent=f,c=M(),a=y("div");for(let m=0;m<h.length;m+=1)h[m].c();this.h()},l(m){e=w(m,"DIV",{class:!0});var v=k(e);s=w(v,"DIV",{class:!0});var p=k(s);t=w(p,"DIV",{class:!0});var $=k(t);P(l.$$.fragment,$),$.forEach(g),o=L(p),r=w(p,"H3",{class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-e4m775"&&(r.textContent=f),p.forEach(g),c=L(v),a=w(v,"DIV",{class:!0});var C=k(a);for(let I=0;I<h.length;I+=1)h[I].l(C);C.forEach(g),v.forEach(g),this.h()},h(){_(t,"class",".w-4 .h-4 .text-primary-600"),_(r,"class",".text-sm .font-semibold .text-gray-900"),_(s,"class",".flex .items-center .gap-2"),_(a,"class",".grid .grid-cols-1 .gap-1"),_(e,"class",".flex .flex-col .gap-2 .p-2 .bg-white .rounded-lg .shadow-sm .border .border-gray-200")},m(m,v){S(m,e,v),b(e,s),b(s,t),F(l,t,null),b(s,o),b(s,r),b(e,c),b(e,a);for(let p=0;p<h.length;p+=1)h[p]&&h[p].m(a,null);u=!0},p(m,v){if(v&1){d=X(Object.entries(m[0]));let p;for(p=0;p<d.length;p+=1){const $=Ze(m,d,p);h[p]?h[p].p($,v):(h[p]=Xe($),h[p].c(),h[p].m(a,null))}for(;p<h.length;p+=1)h[p].d(1);h.length=d.length}},i(m){u||(E(l.$$.fragment,m),m&&yt(()=>{u&&(i||(i=Ve(e,je,{duration:200},!0)),i.run(1))}),u=!0)},o(m){A(l.$$.fragment,m),m&&(i||(i=Ve(e,je,{duration:200},!1)),i.run(0)),u=!1},d(m){m&&g(e),j(l),he(h,m),m&&i&&i.end()}}}function hs(n){let e;return{c(){e=z("Load commutes")},l(s){e=R(s,"Load commutes")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function ms(n){let e,s;return e=new _e({props:{slot:"icon"}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},p:x,i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function ps(n){let e;return{c(){e=z("Manage addresses")},l(s){e=R(s,"Manage addresses")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function Xe(n){let e,s,t=n[11]+"",l,o,r,f=n[12]+"",c,a;return{c(){e=y("div"),s=y("span"),l=z(t),o=M(),r=y("span"),c=z(f),a=M(),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=k(e);s=w(u,"SPAN",{class:!0});var d=k(s);l=R(d,t),d.forEach(g),o=L(u),r=w(u,"SPAN",{class:!0});var h=k(r);c=R(h,f),h.forEach(g),a=L(u),u.forEach(g),this.h()},h(){_(s,"class",".text-sm .font-medium .text-gray-700"),_(r,"class",".text-sm .font-semibold .text-primary-600"),_(e,"class",".flex .items-center .justify-between .p-1.5 .bg-gray-50 .rounded-md")},m(i,u){S(i,e,u),b(e,s),b(s,l),b(e,o),b(e,r),b(r,c),b(e,a)},p(i,u){u&1&&t!==(t=i[11]+"")&&se(l,t),u&1&&f!==(f=i[12]+"")&&se(c,f)},d(i){i&&g(e)}}}function gs(n){let e,s,t,l,o,r,f;const c=[ds,us],a=[];function i(u,d){return u[0]?0:1}return e=i(n),s=a[e]=c[e](n),l=new fs({props:{isOpen:n[2]}}),l.$on("close",n[9]),r=new bt({props:{isOpen:n[3],onSelect:n[6]}}),r.$on("close",n[10]),{c(){s.c(),t=M(),T(l.$$.fragment),o=M(),T(r.$$.fragment)},l(u){s.l(u),t=L(u),P(l.$$.fragment,u),o=L(u),P(r.$$.fragment,u)},m(u,d){a[e].m(u,d),S(u,t,d),F(l,u,d),S(u,o,d),F(r,u,d),f=!0},p(u,[d]){let h=e;e=i(u),e===h?a[e].p(u,d):(Q(),A(a[h],1,1,()=>{a[h]=null}),ee(),s=a[e],s?s.p(u,d):(s=a[e]=c[e](u),s.c()),E(s,1),s.m(t.parentNode,t));const m={};d&4&&(m.isOpen=u[2]),l.$set(m);const v={};d&8&&(v.isOpen=u[3]),r.$set(v)},i(u){f||(E(s),E(l.$$.fragment,u),E(r.$$.fragment,u),f=!0)},o(u){A(s),A(l.$$.fragment,u),A(r.$$.fragment,u),f=!1},d(u){u&&(g(t),g(o)),a[e].d(u),j(l,u),j(r,u)}}}function _s(n,e,s){let t;de(n,re,m=>s(4,t=m));let{loading:l=!1}=e,{durations:o=null}=e,{onLoad:r}=e,f=!1,c=!1;async function a(){if(t.length!==0)if(t.length===1)if(typeof chrome<"u"){const m=await chrome.runtime.sendMessage({action:"fetchDurations",address:t[0]});if(!m.success){console.error("Failed to load commute durations:",m.error);return}s(0,o=m.data.payload.durations)}else await r(t[0]);else s(3,c=!0)}async function i(m){if(typeof chrome<"u"){const v=await chrome.runtime.sendMessage({action:"fetchDurations",address:m});if(!v.success){console.error("Failed to load commute durations:",v.error);return}s(0,o=v.data.payload.durations)}else await r(m)}const u=()=>s(2,f=!0),d=()=>s(2,f=!1),h=()=>s(3,c=!1);return n.$$set=m=>{"loading"in m&&s(1,l=m.loading),"durations"in m&&s(0,o=m.durations),"onLoad"in m&&s(7,r=m.onLoad)},[o,l,f,c,t,a,i,r,u,d,h]}class bs extends W{constructor(e){super(),Y(this,e,_s,gs,J,{loading:1,durations:0,onLoad:7})}}function vs(n){let e,s;return e=new bs({props:{loading:n[0],durations:n[1],onLoad:n[3]}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},p(t,l){const o={};l&1&&(o.loading=t[0]),l&2&&(o.durations=t[1]),l&8&&(o.onLoad=t[3]),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function $s(n){let e,s;return e=new ns({props:{loading:n[0],durations:n[1],onLoad:n[3]}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},p(t,l){const o={};l&1&&(o.loading=t[0]),l&2&&(o.durations=t[1]),l&8&&(o.onLoad=t[3]),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function ks(n){let e,s,t,l;const o=[$s,vs],r=[];function f(c,a){return c[2]==="web"?0:1}return e=f(n),s=r[e]=o[e](n),{c(){s.c(),t=le()},l(c){s.l(c),t=le()},m(c,a){r[e].m(c,a),S(c,t,a),l=!0},p(c,[a]){let i=e;e=f(c),e===i?r[e].p(c,a):(Q(),A(r[i],1,1,()=>{r[i]=null}),ee(),s=r[e],s?s.p(c,a):(s=r[e]=o[e](c),s.c()),E(s,1),s.m(t.parentNode,t))},i(c){l||(E(s),l=!0)},o(c){A(s),l=!1},d(c){c&&g(t),r[e].d(c)}}}function ws(n,e,s){let{mode:t="web"}=e,{loading:l=!1}=e,{durations:o=null}=e,{onLoad:r}=e;return n.$$set=f=>{"mode"in f&&s(2,t=f.mode),"loading"in f&&s(0,l=f.loading),"durations"in f&&s(1,o=f.durations),"onLoad"in f&&s(3,r=f.onLoad)},[l,o,t,r]}class ys extends W{constructor(e){super(),Y(this,e,ws,ks,J,{mode:2,loading:0,durations:1,onLoad:3})}}function Ke(n,e,s){const t=n.slice();return t[16]=e[s],t}function Qe(n,e,s){const t=n.slice();return t[19]=e[s],t}function et(n){let e,s,t,l="Manage Addresses",o,r,f,c,a,i,u,d=n[4].length>0&&tt(n),h=n[4].length<2&&lt(n);return i=new ue({props:{onClick:n[9],$$slots:{default:[As]},$$scope:{ctx:n}}}),{c(){e=y("div"),s=y("div"),t=y("h3"),t.textContent=l,o=M(),r=y("div"),d&&d.c(),f=M(),h&&h.c(),c=M(),a=y("div"),T(i.$$.fragment),this.h()},l(m){e=w(m,"DIV",{class:!0});var v=k(e);s=w(v,"DIV",{class:!0});var p=k(s);t=w(p,"H3",{class:!0,"data-svelte-h":!0}),ae(t)!=="svelte-1yq45eg"&&(t.textContent=l),o=L(p),r=w(p,"DIV",{class:!0});var $=k(r);d&&d.l($),f=L($),h&&h.l($),c=L($),a=w($,"DIV",{class:!0});var C=k(a);P(i.$$.fragment,C),C.forEach(g),$.forEach(g),p.forEach(g),v.forEach(g),this.h()},h(){_(t,"class",".text-lg .font-semibold .mb-4"),_(a,"class",".flex .justify-end .gap-2 .mt-4"),_(r,"class",".space-y-4"),_(s,"class",".bg-white .rounded-lg .p-4 .w-[400px] .max-w-[90vw]"),_(e,"class",".fixed .inset-0 .bg-black/50 .flex .items-center .justify-center .z-50")},m(m,v){S(m,e,v),b(e,s),b(s,t),b(s,o),b(s,r),d&&d.m(r,null),b(r,f),h&&h.m(r,null),b(r,c),b(r,a),F(i,a,null),u=!0},p(m,v){m[4].length>0?d?d.p(m,v):(d=tt(m),d.c(),d.m(r,f)):d&&(d.d(1),d=null),m[4].length<2?h?(h.p(m,v),v&16&&E(h,1)):(h=lt(m),h.c(),E(h,1),h.m(r,c)):h&&(Q(),A(h,1,1,()=>{h=null}),ee());const p={};v&4194304&&(p.$$scope={dirty:v,ctx:m}),i.$set(p)},i(m){u||(E(h),E(i.$$.fragment,m),u=!0)},o(m){A(h),A(i.$$.fragment,m),u=!1},d(m){m&&g(e),d&&d.d(),h&&h.d(),j(i)}}}function tt(n){let e,s=X(n[4]),t=[];for(let l=0;l<s.length;l+=1)t[l]=st(Qe(n,s,l));return{c(){e=y("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(g),this.h()},h(){_(e,"class",".space-y-2")},m(l,o){S(l,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(l,o){if(o&272){s=X(l[4]);let r;for(r=0;r<s.length;r+=1){const f=Qe(l,s,r);t[r]?t[r].p(f,o):(t[r]=st(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(l){l&&g(e),he(t,l)}}}function st(n){let e,s,t=n[19]+"",l,o,r,f="×",c,a,i;function u(){return n[10](n[19])}return{c(){e=y("div"),s=y("span"),l=z(t),o=M(),r=y("button"),r.textContent=f,c=M(),this.h()},l(d){e=w(d,"DIV",{class:!0});var h=k(e);s=w(h,"SPAN",{class:!0});var m=k(s);l=R(m,t),m.forEach(g),o=L(h),r=w(h,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(r)!=="svelte-1jausmz"&&(r.textContent=f),c=L(h),h.forEach(g),this.h()},h(){_(s,"class",".text-sm .text-gray-900"),_(r,"class",".text-red-500 .hover:text-red-700"),_(e,"class",".flex .items-center .justify-between .p-2 .bg-gray-50 .rounded")},m(d,h){S(d,e,h),b(e,s),b(s,l),b(e,o),b(e,r),b(e,c),a||(i=ne(r,"click",u),a=!0)},p(d,h){n=d,h&16&&t!==(t=n[19]+"")&&se(l,t)},d(d){d&&g(e),a=!1,i()}}}function lt(n){let e,s,t,l,o,r,f,c,a=n[3]&&n[2].length>0&&rt(n);return o=new ue({props:{primary:!0,onClick:n[7],disabled:!n[1]||n[4].length>=2,class:".mt-2",$$slots:{default:[Es]},$$scope:{ctx:n}}}),{c(){e=y("div"),s=y("input"),t=M(),a&&a.c(),l=M(),T(o.$$.fragment),this.h()},l(i){e=w(i,"DIV",{class:!0});var u=k(e);s=w(u,"INPUT",{type:!0,placeholder:!0,class:!0}),t=L(u),a&&a.l(u),l=L(u),P(o.$$.fragment,u),u.forEach(g),this.h()},h(){_(s,"type","text"),_(s,"placeholder","Enter an address"),_(s,"class",".w-full .p-2 .border .rounded .text-sm .text-gray-900 .bg-white"),_(e,"class",".relative")},m(i,u){S(i,e,u),b(e,s),ve(s,n[1]),b(e,t),a&&a.m(e,null),b(e,l),F(o,e,null),r=!0,f||(c=[ne(s,"input",n[11]),ne(s,"input",n[5])],f=!0)},p(i,u){u&2&&s.value!==i[1]&&ve(s,i[1]),i[3]&&i[2].length>0?a?a.p(i,u):(a=rt(i),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const d={};u&18&&(d.disabled=!i[1]||i[4].length>=2),u&4194304&&(d.$$scope={dirty:u,ctx:i}),o.$set(d)},i(i){r||(E(o.$$.fragment,i),r=!0)},o(i){A(o.$$.fragment,i),r=!1},d(i){i&&g(e),a&&a.d(),j(o),f=!1,ye(c)}}}function rt(n){let e,s=X(n[2]),t=[];for(let l=0;l<s.length;l+=1)t[l]=nt(Ke(n,s,l));return{c(){e=y("div");for(let l=0;l<t.length;l+=1)t[l].c();this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(g),this.h()},h(){_(e,"class",".absolute .left-0 .right-0 .mt-1 .bg-white .border .rounded .shadow-lg .z-10")},m(l,o){S(l,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(l,o){if(o&68){s=X(l[2]);let r;for(r=0;r<s.length;r+=1){const f=Ke(l,s,r);t[r]?t[r].p(f,o):(t[r]=nt(f),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(l){l&&g(e),he(t,l)}}}function nt(n){let e,s=n[16]+"",t,l,o,r;function f(){return n[12](n[16])}return{c(){e=y("button"),t=z(s),l=M(),this.h()},l(c){e=w(c,"BUTTON",{class:!0});var a=k(e);t=R(a,s),l=L(a),a.forEach(g),this.h()},h(){_(e,"class",".w-full .text-left .p-2 .text-sm .text-gray-900 .hover:bg-gray-50")},m(c,a){S(c,e,a),b(e,t),b(e,l),o||(r=ne(e,"click",f),o=!0)},p(c,a){n=c,a&4&&s!==(s=n[16]+"")&&se(t,s)},d(c){c&&g(e),o=!1,r()}}}function Es(n){let e;return{c(){e=z("Add Address")},l(s){e=R(s,"Add Address")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function As(n){let e;return{c(){e=z("Close")},l(s){e=R(s,"Close")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function Cs(n){let e,s,t=n[0]&&et(n);return{c(){t&&t.c(),e=le()},l(l){t&&t.l(l),e=le()},m(l,o){t&&t.m(l,o),S(l,e,o),s=!0},p(l,[o]){l[0]?t?(t.p(l,o),o&1&&E(t,1)):(t=et(l),t.c(),E(t,1),t.m(e.parentNode,e)):t&&(Q(),A(t,1,1,()=>{t=null}),ee())},i(l){s||(E(t),s=!0)},o(l){A(t),s=!1},d(l){l&&g(e),t&&t.d(l)}}}function Is(n,e,s){let t;de(n,re,I=>s(4,t=I));let{isOpen:l=!1}=e;const o=Se();let r="";const f=["Amsterdam Centraal","Amsterdam Zuid","Amsterdam Science Park","Amsterdam Bijlmer ArenA","Amsterdam RAI","Amsterdam Lelylaan","Amsterdam Muiderpoort","Amsterdam Sloterdijk"];let c=[],a=!1;function i(I){if(!I){s(2,c=[]);return}const N=I.toLowerCase();s(2,c=f.filter(B=>B.toLowerCase().includes(N)).slice(0,5))}function u(I){const N=I.target.value;s(1,r=N),i(N),s(3,a=!0)}function d(I){s(1,r=I),s(3,a=!1)}function h(){r&&t.length<2&&(re.update(I=>[...I,r]),s(1,r=""),s(3,a=!1))}function m(I){re.update(N=>N.filter(B=>B!==I))}function v(){o("close"),s(1,r=""),s(3,a=!1)}const p=I=>m(I);function $(){r=this.value,s(1,r)}const C=I=>d(I);return n.$$set=I=>{"isOpen"in I&&s(0,l=I.isOpen)},[l,r,c,a,t,u,d,h,m,v,p,$,C]}class Ss extends W{constructor(e){super(),Y(this,e,Is,Cs,J,{isOpen:0})}}function Ds(n){let e,s="Manage addresses",t,l,o,r,f;return l=new Ss({props:{isOpen:n[0]}}),l.$on("close",n[2]),{c(){e=y("button"),e.textContent=s,t=M(),T(l.$$.fragment),this.h()},l(c){e=w(c,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-edtwm3"&&(e.textContent=s),t=L(c),P(l.$$.fragment,c),this.h()},h(){_(e,"class",".bg-black .text-white .px-4 .py-2 .rounded-md .hover:bg-gray-800 .transition-colors")},m(c,a){S(c,e,a),S(c,t,a),F(l,c,a),o=!0,r||(f=ne(e,"click",n[1]),r=!0)},p(c,[a]){const i={};a&1&&(i.isOpen=c[0]),l.$set(i)},i(c){o||(E(l.$$.fragment,c),o=!0)},o(c){A(l.$$.fragment,c),o=!1},d(c){c&&(g(e),g(t)),j(l,c),r=!1,f()}}}function Ls(n,e,s){let t=!1;return[t,()=>s(0,t=!0),()=>s(0,t=!1)]}class Ms extends W{constructor(e){super(),Y(this,e,Ls,Ds,J,{})}}function Ns(n){let e,s,t,l,o,r;return o=new Ms({}),{c(){e=y("div"),s=y("img"),l=M(),T(o.$$.fragment),this.h()},l(f){e=w(f,"DIV",{class:!0});var c=k(e);s=w(c,"IMG",{src:!0,alt:!0,class:!0}),l=L(c),P(o.$$.fragment,c),c.forEach(g),this.h()},h(){Et(s.src,t="https://cdn.prod.website-files.com/67053ca02c9605b542296d0f/671389353d1aca320568d70b_logo-light.png")||_(s,"src",t),_(s,"alt","Uprent"),_(s,"class",".w-[103px] .h-auto"),_(e,"class",".bg-[#bd2e4f] .text-white .px-10 .py-[5px] .h-[50px] .flex .items-center .justify-between .fixed .top-0 .left-0 .right-0 .z-50")},m(f,c){S(f,e,c),b(e,s),b(e,l),F(o,e,null),r=!0},p:x,i(f){r||(E(o.$$.fragment,f),r=!0)},o(f){A(o.$$.fragment,f),r=!1},d(f){f&&g(e),j(o)}}}class Vs extends W{constructor(e){super(),Y(this,e,null,Ns,J,{})}}function ot(n){let e,s,t,l,o=n[0].price+"",r,f,c;return s=new zt({}),{c(){e=y("span"),T(s.$$.fragment),t=M(),l=y("b"),r=z(o),f=z(" /month"),this.h()},l(a){e=w(a,"SPAN",{class:!0});var i=k(e);P(s.$$.fragment,i),t=L(i),l=w(i,"B",{});var u=k(l);r=R(u,o),u.forEach(g),f=R(i," /month"),i.forEach(g),this.h()},h(){_(e,"class",".flex .gap-2")},m(a,i){S(a,e,i),F(s,e,null),b(e,t),b(e,l),b(l,r),b(e,f),c=!0},p(a,i){(!c||i&1)&&o!==(o=a[0].price+"")&&se(r,o)},i(a){c||(E(s.$$.fragment,a),c=!0)},o(a){A(s.$$.fragment,a),c=!1},d(a){a&&g(e),j(s)}}}function at(n){let e,s,t,l,o,r=n[0].area+"",f,c,a;return s=new Bt({}),{c(){e=y("span"),T(s.$$.fragment),t=M(),l=y("span"),o=y("b"),f=z(r),c=z(" m²"),this.h()},l(i){e=w(i,"SPAN",{class:!0});var u=k(e);P(s.$$.fragment,u),t=L(u),l=w(u,"SPAN",{});var d=k(l);o=w(d,"B",{});var h=k(o);f=R(h,r),h.forEach(g),c=R(d," m²"),d.forEach(g),u.forEach(g),this.h()},h(){_(e,"class",".flex .gap-2")},m(i,u){S(i,e,u),F(s,e,null),b(e,t),b(e,l),b(l,o),b(o,f),b(l,c),a=!0},p(i,u){(!a||u&1)&&r!==(r=i[0].area+"")&&se(f,r)},i(i){a||(E(s.$$.fragment,i),a=!0)},o(i){A(s.$$.fragment,i),a=!1},d(i){i&&g(e),j(s)}}}function Os(n){let e,s,t,l,o,r,f,c,a,i=n[0].title+"",u,d,h,m,v=n[0].cityName+"",p,$,C,I,N,B,K,D=n[0].price&&ot(n),V=n[0].area&&at(n);return B=new ys({props:{durations:n[1],onLoad:n[2]}}),{c(){e=y("div"),s=y("span"),t=y("span"),l=y("span"),o=M(),r=y("div"),f=y("div"),c=y("span"),a=y("a"),u=z(i),h=M(),m=y("span"),p=z(v),$=M(),C=y("div"),D&&D.c(),I=M(),V&&V.c(),N=M(),T(B.$$.fragment),this.h()},l(O){e=w(O,"DIV",{class:!0});var U=k(e);s=w(U,"SPAN",{class:!0});var ie=k(s);t=w(ie,"SPAN",{class:!0});var pe=k(t);l=w(pe,"SPAN",{class:!0,style:!0}),k(l).forEach(g),pe.forEach(g),ie.forEach(g),o=L(U),r=w(U,"DIV",{class:!0});var Z=k(r);f=w(Z,"DIV",{class:!0});var G=k(f);c=w(G,"SPAN",{class:!0});var ce=k(c);a=w(ce,"A",{href:!0,target:!0,class:!0});var te=k(a);u=R(te,i),te.forEach(g),ce.forEach(g),h=L(G),m=w(G,"SPAN",{class:!0});var oe=k(m);p=R(oe,v),oe.forEach(g),G.forEach(g),$=L(Z),C=w(Z,"DIV",{class:!0});var fe=k(C);D&&D.l(fe),I=L(fe),V&&V.l(fe),fe.forEach(g),Z.forEach(g),N=L(U),P(B.$$.fragment,U),U.forEach(g),this.h()},h(){_(l,"class",".absolute .bottom-0 .left-0 .right-0 .top-0 .bg-cover .bg-center"),me(l,"background-image","url("+n[0].previewImageURL+")"),_(t,"class",".relative .h-full .w-[250px] .overflow-hidden .rounded-l-md xl:.w-[200px]"),_(s,"class",".contents"),_(a,"href",d=n[0].sourceURL),_(a,"target","_blank"),_(a,"class",".font-semibold .text-primary"),_(c,"class",".relative .max-w-[calc(100%-6rem)] .self-start .text-left .font-bold .text-primary hover:.underline"),_(m,"class",".text-gray-600"),_(f,"class",".flex .flex-col .gap-1"),_(C,"class",".mt-2 .flex .grow .flex-col .justify-center .gap-1"),_(r,"class",".flex .min-h-[180px] .flex-1 .flex-col .p-3 .pl-6 xs:.pl-3"),_(e,"class",".relative .flex .h-[200px] .min-w-[540px] .grow .rounded-md .bg-white .text-left .shadow-md")},m(O,U){S(O,e,U),b(e,s),b(s,t),b(t,l),b(e,o),b(e,r),b(r,f),b(f,c),b(c,a),b(a,u),b(f,h),b(f,m),b(m,p),b(r,$),b(r,C),D&&D.m(C,null),b(C,I),V&&V.m(C,null),b(e,N),F(B,e,null),K=!0},p(O,[U]){(!K||U&1)&&me(l,"background-image","url("+O[0].previewImageURL+")"),(!K||U&1)&&i!==(i=O[0].title+"")&&se(u,i),(!K||U&1&&d!==(d=O[0].sourceURL))&&_(a,"href",d),(!K||U&1)&&v!==(v=O[0].cityName+"")&&se(p,v),O[0].price?D?(D.p(O,U),U&1&&E(D,1)):(D=ot(O),D.c(),E(D,1),D.m(C,I)):D&&(Q(),A(D,1,1,()=>{D=null}),ee()),O[0].area?V?(V.p(O,U),U&1&&E(V,1)):(V=at(O),V.c(),E(V,1),V.m(C,null)):V&&(Q(),A(V,1,1,()=>{V=null}),ee());const ie={};U&2&&(ie.durations=O[1]),B.$set(ie)},i(O){K||(E(D),E(V),E(B.$$.fragment,O),K=!0)},o(O){A(D),A(V),A(B.$$.fragment,O),K=!1},d(O){O&&g(e),D&&D.d(),V&&V.d(),j(B)}}}function js(n,e,s){let{property:t}=e,l=null;async function o(r){try{const c=await(await fetch("http://localhost:5002/commute/durations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:r})})).json();c.status==="success"&&s(1,l=c.payload.durations)}catch(f){console.error("Failed to fetch commute times:",f)}}return n.$$set=r=>{"property"in r&&s(0,t=r.property)},[t,l,o]}class Fs extends W{constructor(e){super(),Y(this,e,js,Os,J,{property:0})}}function it(n){let e,s,t;e=new Le({props:{class:".h-6 .stroke-primary"}});const l=n[4].default,o=Ee(l,n,n[3],null);return{c(){T(e.$$.fragment),s=M(),o&&o.c()},l(r){P(e.$$.fragment,r),s=L(r),o&&o.l(r)},m(r,f){F(e,r,f),S(r,s,f),o&&o.m(r,f),t=!0},p(r,f){o&&o.p&&(!t||f&8)&&Ae(o,l,r,r[3],t?Ie(l,r[3],f,null):Ce(r[3]),null)},i(r){t||(E(e.$$.fragment,r),E(o,r),t=!0)},o(r){A(e.$$.fragment,r),A(o,r),t=!1},d(r){r&&g(s),j(e,r),o&&o.d(r)}}}function Ps(n){let e,s,t=n[1]&&it(n);return{c(){e=y("div"),t&&t.c(),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=k(e);t&&t.l(o),o.forEach(g),this.h()},h(){_(e,"class",".flex .items-center .gap-1.5 .text-gray-500")},m(l,o){S(l,e,o),t&&t.m(e,null),n[5](e),s=!0},p(l,[o]){l[1]?t?(t.p(l,o),o&2&&E(t,1)):(t=it(l),t.c(),E(t,1),t.m(e,null)):t&&(Q(),A(t,1,1,()=>{t=null}),ee())},i(l){s||(E(t),s=!0)},o(l){A(t),s=!1},d(l){l&&g(e),t&&t.d(),n[5](null)}}}function Ts(n,e,s){let t;de(n,ge,i=>s(6,t=i));let{$$slots:l={},$$scope:o}=e,{scrollContainer:r}=e,f,c=!1;ht(()=>{const i=async()=>{if(!f)return;const{top:d}=f.getBoundingClientRect();c||d-window.innerHeight>700||(s(1,c=!0),await ge.loadMore(),s(1,c=!1),t.hasMore&&await i())};i();const u=ge.subscribe(()=>i());return r.addEventListener("scroll",i),()=>{u(),r.removeEventListener("scroll",i)}});function a(i){mt[i?"unshift":"push"](()=>{f=i,s(0,f)})}return n.$$set=i=>{"scrollContainer"in i&&s(2,r=i.scrollContainer),"$$scope"in i&&s(3,o=i.$$scope)},[f,c,r,o,l,a]}class Bs extends W{constructor(e){super(),Y(this,e,Ts,Ps,J,{scrollContainer:2})}}function ct(n,e,s){const t=n.slice();return t[3]=e[s],t}function Us(n){let e,s,t,l;return s=new Le({props:{class:".h-6 .w-6 .stroke-gray-400"}}),{c(){e=y("div"),T(s.$$.fragment),t=z(`
      Loading properties...`),this.h()},l(o){e=w(o,"DIV",{class:!0});var r=k(e);P(s.$$.fragment,r),t=R(r,`
      Loading properties...`),r.forEach(g),this.h()},h(){_(e,"class",".flex .items-center .gap-2 .text-gray-500")},m(o,r){S(o,e,r),F(s,e,null),b(e,t),l=!0},p:x,i(o){l||(E(s.$$.fragment,o),l=!0)},o(o){A(s.$$.fragment,o),l=!1},d(o){o&&g(e),j(s)}}}function Rs(n){let e=[],s=new Map,t,l,o,r,f=X(n[1].properties);const c=u=>u[3].id;for(let u=0;u<f.length;u+=1){let d=ct(n,f,u),h=c(d);s.set(h,e[u]=ft(h,d))}let a=!n[1].hasMore&&n[1].properties.length&&ut(),i=n[0]&&dt(n);return{c(){for(let u=0;u<e.length;u+=1)e[u].c();t=M(),a&&a.c(),l=M(),i&&i.c(),o=le()},l(u){for(let d=0;d<e.length;d+=1)e[d].l(u);t=L(u),a&&a.l(u),l=L(u),i&&i.l(u),o=le()},m(u,d){for(let h=0;h<e.length;h+=1)e[h]&&e[h].m(u,d);S(u,t,d),a&&a.m(u,d),S(u,l,d),i&&i.m(u,d),S(u,o,d),r=!0},p(u,d){d&2&&(f=X(u[1].properties),Q(),e=It(e,d,c,1,u,f,s,t.parentNode,Ct,ft,t,ct),ee()),!u[1].hasMore&&u[1].properties.length?a||(a=ut(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),u[0]?i?(i.p(u,d),d&1&&E(i,1)):(i=dt(u),i.c(),E(i,1),i.m(o.parentNode,o)):i&&(Q(),A(i,1,1,()=>{i=null}),ee())},i(u){if(!r){for(let d=0;d<f.length;d+=1)E(e[d]);E(i),r=!0}},o(u){for(let d=0;d<e.length;d+=1)A(e[d]);A(i),r=!1},d(u){u&&(g(t),g(l),g(o));for(let d=0;d<e.length;d+=1)e[d].d(u);a&&a.d(u),i&&i.d(u)}}}function ft(n,e){let s,t,l;return t=new Fs({props:{property:e[3]}}),{key:n,first:null,c(){s=le(),T(t.$$.fragment),this.h()},l(o){s=le(),P(t.$$.fragment,o),this.h()},h(){this.first=s},m(o,r){S(o,s,r),F(t,o,r),l=!0},p(o,r){e=o;const f={};r&2&&(f.property=e[3]),t.$set(f)},i(o){l||(E(t.$$.fragment,o),l=!0)},o(o){A(t.$$.fragment,o),l=!1},d(o){o&&g(s),j(t,o)}}}function ut(n){let e;return{c(){e=z("You've reached the end of the Feed!")},l(s){e=R(s,"You've reached the end of the Feed!")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function dt(n){let e,s;return e=new Bs({props:{scrollContainer:n[0],$$slots:{default:[zs]},$$scope:{ctx:n}}}),{c(){T(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,l){F(e,t,l),s=!0},p(t,l){const o={};l&1&&(o.scrollContainer=t[0]),l&64&&(o.$$scope={dirty:l,ctx:t}),e.$set(o)},i(t){s||(E(e.$$.fragment,t),s=!0)},o(t){A(e.$$.fragment,t),s=!1},d(t){j(e,t)}}}function zs(n){let e;return{c(){e=z("Loading more properties...")},l(s){e=R(s,"Loading more properties...")},m(s,t){S(s,e,t)},d(s){s&&g(e)}}}function xs(n){let e,s,t,l;const o=[Rs,Us],r=[];function f(c,a){return c[1].isLoading?1:0}return s=f(n),t=r[s]=o[s](n),{c(){e=y("div"),t.c(),this.h()},l(c){e=w(c,"DIV",{class:!0});var a=k(e);t.l(a),a.forEach(g),this.h()},h(){_(e,"class",".flex .max-w-[1280px] .flex-1 .flex-col .gap-4 .overflow-y-auto .pb-4 .pl-2 .pr-4 .pt-2 xs:.-ml-4 xs:.w-screen")},m(c,a){S(c,e,a),r[s].m(e,null),n[2](e),l=!0},p(c,[a]){let i=s;s=f(c),s===i?r[s].p(c,a):(Q(),A(r[i],1,1,()=>{r[i]=null}),ee(),t=r[s],t?t.p(c,a):(t=r[s]=o[s](c),t.c()),E(t,1),t.m(e,null))},i(c){l||(E(t),l=!0)},o(c){A(t),l=!1},d(c){c&&g(e),r[s].d(),n[2](null)}}}function qs(n,e,s){let t;de(n,ge,r=>s(1,t=r));let l;function o(r){mt[r?"unshift":"push"](()=>{l=r,s(0,l)})}return[l,t,o]}class Hs extends W{constructor(e){super(),Y(this,e,qs,xs,J,{})}}function Js(n){let e,s,t,l,o,r;return s=new Vs({}),o=new Hs({}),{c(){e=y("div"),T(s.$$.fragment),t=M(),l=y("div"),T(o.$$.fragment),this.h()},l(f){e=w(f,"DIV",{class:!0});var c=k(e);P(s.$$.fragment,c),t=L(c),l=w(c,"DIV",{class:!0});var a=k(l);P(o.$$.fragment,a),a.forEach(g),c.forEach(g),this.h()},h(){_(l,"class",".flex .max-h-screen .flex-col .bg-gray-50 .pt-[50px]"),_(e,"class",".flex .flex-col .h-full")},m(f,c){S(f,e,c),F(s,e,null),b(e,t),b(e,l),F(o,l,null),r=!0},p:x,i(f){r||(E(s.$$.fragment,f),E(o.$$.fragment,f),r=!0)},o(f){A(s.$$.fragment,f),A(o.$$.fragment,f),r=!1},d(f){f&&g(e),j(s),j(o)}}}function Ws(n){return ht(()=>{ge.reload()}),[]}class Ys extends W{constructor(e){super(),Y(this,e,Ws,Js,J,{})}}function Gs(n){let e,s,t;return s=new Ys({}),{c(){e=M(),T(s.$$.fragment),this.h()},l(l){At("svelte-h1h6u",document.head).forEach(g),e=L(l),P(s.$$.fragment,l),this.h()},h(){document.title="Feed | Uprent mini"},m(l,o){S(l,e,o),F(s,l,o),t=!0},p:x,i(l){t||(E(s.$$.fragment,l),t=!0)},o(l){A(s.$$.fragment,l),t=!1},d(l){l&&g(e),j(s,l)}}}class tl extends W{constructor(e){super(),Y(this,e,null,Gs,J,{})}}export{tl as component};
